@using GLSPM.Client.Dtos.Passwords
@attribute [Authorize(Roles = "Admin")]
<MudDialog Style="width:600px">
    <TitleContent>
        @if (!EditMode)
        {
            <MudText Typo="Typo.body2">
                @($"ID<{model.ID}>")
            </MudText>
            <MudText Typo="Typo.h5">
                @model.Title
            </MudText>
        }
        else
        {
            <MudText Typo="Typo.h5">
                Editing Password @($"ID<{model.ID}>")
            </MudText>
        }
    </TitleContent>
    <DialogContent>
        <MudText Typo="Typo.h4" Align="Align.Center">
            <MudImage Src="@model.LogoPath" Height="150" />
        </MudText>

        <MudTextField @bind-Value="model.Title"
                      For="@(() => model.Title)"
                      Immediate="true"
                      Label="Title"
                      ReadOnly="!EditMode" />

        <MudTextField @bind-Value="model.Username"
                      For="@(() => model.Username)"
                      Immediate="true"
                      Label="Username"
                      ReadOnly="!EditMode" />

        <MudTextField @bind-Value="model.Password"
                      For="@(() => model.Password)"
                      Immediate="true"
                      Label="Password"
                      ReadOnly="!EditMode" />

        <MudTextField @bind-Value="model.Source"
                      For="@(() => model.Source)"
                      Immediate="true"
                      Label="Source"
                      ReadOnly="!EditMode" />

        <MudTextField @bind-Value="model.AdditionalInfo"
                      For="@(() => model.AdditionalInfo)"
                      Immediate="true"
                      Label="AdditionalInfo"
                      ReadOnly="!EditMode" />
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="(()=>MudDialog.Close())">Close</MudButton>
        @if (EditMode)
        {
            <MudButton Color="Color.Info">Save</MudButton>
        }
    </DialogActions>
</MudDialog>
@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    [Parameter] public PasswordReadDto model { get; set; }
    [Parameter] public bool EditMode { get; set; }

}